<p id="notice"><%= notice %></p>

<header class="header">
  <div class="container">
    <!-- Left side -->
    <div class="header-left">
      <a class="header-item" href="#">
        KOFTA
      </a>
      <%= link_to 'Devices', devices_path, class: "header-tab" %>
      <%= link_to 'Data Sources', datatypes_path, class: "header-tab is-active" %>
    </div>
  </div>
</header>

<table class="table is-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>OID</th>
      <th>SNMP Metric Type</th>
      <th>Is table?</th>
      <th colspan="3">Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @datatypes.each do |datatype| %>
      <tr>
        <td><%= datatype.name %></td>
        <td><%= datatype.oid %></td>
        <td><%= datatype.metric_type %></td>
        <td><%= datatype.table %></td>
        <td><%= link_to 'Show', datatype, class: "button show-item", item: datatype.id %></td>
        <td><%= link_to 'Edit', edit_datatype_path(datatype), class: "button is-warning" %></td>
        <td><%= link_to 'Destroy', datatype, method: :delete, data: { confirm: 'Are you sure?' }, class: "button is-danger" %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%= link_to 'New Datatype', new_datatype_path, class: "button is-primary" %>

<div class="modal">
  <div class="modal-background"></div>
  <div class="modal-container">
    <div class="modal-content">
        <div class="card is-fullwidth">
            <header class="card-header">
                <p class="card-header-title">
                    Metric Name
                </p>
            </header>
            <div class="card-content">
                <div class="content">
                    <table>
                        <tr><td><strong>OID:</strong></td><td id="metric_oid">lalala</td></tr>
                        <tr><td><strong>Exclude regex:</strong></td><td id="metric_excludes">lalala</td></tr>
                        <tr><td><strong>SNMP Metric Type:</strong></td><td id="metric_type">lalala</td></tr>
                        <tr><td><strong>Is table?</strong></td><td id="metric_table">lalala</td></tr>
                        <tr><td><strong>Indexer OID:</strong></td><td id="metric_index">lalala</td></tr>
                    </table>
                </div>
            </div>
            <footer class="card-footer">
                <a class="card-footer-item item-edit">Edit</a>
                <%= link_to 'Delete', '#', method: :delete, data: { confirm: 'Are you sure?' }, class: "card-footer-item item-delete" %>
            </footer>
        </div>
    </div>
  </div>
  <button class="modal-close"></button>
</div>
